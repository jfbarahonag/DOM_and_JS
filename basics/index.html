<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Basic operations</title>
</head>
<body>
    <h2>Read nodes</h2>
    <p>There are 4 main ways of read nodes with JS</p>
    <ol>
        <li><b>parent.getElementById('id')</b></li>
        <p>Allows us get an element through its ID</p>
        <li><b>parent.getElementsByClassName('class')</b></li>
        <p>Allows us get an array with all its child elements that the class has.</p>
        <li><b>parent.getElementsByTagName('tag')</b></li>
        <p>Allows us get an array list with all elements that have the tag.</p>
        <li><b>parent.querySelector('value')</b></li>
        <p>Allows us 3 ways to search (id, class, tag). Unlike 2 previous methods, this method returns ONE element, the first one that contains the value passed as input parameter. ID -> '#id', Class -> '.className', tag -> 'tagname'</p>
        <li><b>parent.querySelectorAll()</b></li>
        <p>This method returns an array list with all elements having the selector.</p>
    </ol>
    <h4>Note</h4>
    <p>The element 'parent' is 'document', because we are referring to the DOM (all), all document, and this makes us avoid mistakes. <a href="https://getbootstrap.com/" target="_blank">Visit here for practicing</a></p>

    <h2>NodeLists v.s. Array</h2>
    <p>NodeLists lack of operations present in the arrays, like map, filter, some, reduce, etc</p>
    <p>There is one way to "convert" the nodeLists to array using the <b>spread operator</b> of JS : </p>
    <p> <b>nodeAsArray = [...nodeList]</b> </p>
    <p>Work with arrays is better than nodeLists because the browsers and engines (V8 JavaScript engine) are optimized to work with arrays and NOT with nodeLists.</p>
    
    <h2>Create/Add nodes</h2>
    <h3>Create</h3>
    <p>Nodes to be created could be of 2 types:</p>
    <ul>
        <li>Element</li>
        <p>document.createElement('tag')</p>
        <li>Text</li>
        <p>document.createTextContent('Some text')</p>
    </ul>
    <p><b>Create</b> an element does not mean that the element be <b>added</b> to the DOM, this creation is made in memory (variable) but it is not added yet. The same happens with the text.</p>
    <h3>Add</h3>
    <p>There are many ways to add an nodes to the DOM</p>
    <ul>
        <li>parentElement.appendChild(child)</li>
        <p>The child could be an element or text.</p>
        <li>parentElement.append(child1, child2,...,childN)</li>
        <p>Allows insert N child, but internet Explorer does not support append. Polyfill is needed.</p>
        <li>parentElement.insertBefore(node, reference)</li>
        <p>Reference needs to be a child of the parentElement.</p>
        <li>parentElement.insertAdjacentElement(position, element)</li>
        <p>position: 'beforebegin','afterbegin','beforeend','afterend'. Where <b>'beforebegin'</b> and <b>'afterend'</b> locates the element out of the parentElement.</p>
    </ul>
    <h3>Other ways</h3>
    <ul>
        <li>node.outerHTML (read)</li>
        <p>Returns as text the HTML of the element.</p>
        <li>node.innerHTML (write)</li>
        <p>Returns the current value of the element, but assign a value is also allowed.</p>
        <p><b><u>Note: </u></b>innerHTML could be used to introduce attacks to the website "With great power comes great responsibility". It should be avoided if the string to be rendered from innerHTML comes from the user, always an user input should be passed to a sanitize process, then render using innerHTML.</p>
    </ul>
    <h2>Attributes and properties</h2>
    <p>They are the ones who give life to the elements that are in the DOM.</p>
    <h3>Attribute</h3>
    <p>An attribute is the initial state of the HTML, they are special words used at the opening tag, to control the behavior of the element</p>
    <ul>
        <li>Defined by HTML</li>
        <li>Constants</li>
        <li>Only can be used to initialize the HTMLa and DOM properties</li>
    </ul>
    <h3>Properties</h3>
    <p>They are initialized by the DOM to be modified after</p>
    <ul>
        <li>Variables, could be modified through JS</li>
        <li>Defined by the DOM</li>
    </ul>
    <h3>Difference</h3>
    <p>The attributes are used ONLY at the beginning of the HTML, the attributes change int he execution time.</p>
    <p>The DOM is represented by attributes and the properties are rendered by the browser</p>

    <h2>Remove nodes</h2>
    <p>There are 3 ways to do it :</p>
    <ul>
        <li><b>parentElement.removeChild(child)</b></li>
        <li><b>parentElement.remove(node1, node2, ..., nodeN)</b></li>
        <li><b>parentElement.replaceChild(toAdd, toReplace)</b></li>
    </ul>
    <h2>Batch operations</h2>
    <div>
        <input type="number" class="input" placeholder="Qty">
        <button class="button">Add [Qty] inputs</button>
    </div>
    <script>
        const array = [1,4,3,2]
    
        function printArray(num1, num2, num3) {
            console.log(num1, num2, num3);
        }
        /** Spread operator allows an expression to be spread in situations where multiple arguments are expected */
        printArray(...array)
    
        let nodes = [];
    
        let element = document.querySelector('.button')
        
        element.onclick = () => {
            let lim = document.querySelector('.input').value
            if (lim == '') {
                alert('Please fill the field Qty')
                return
            }
        
            for (idx = 0; idx < lim; idx++) {
                const node = document.createElement('input')
                node.className = 'box-'+idx;
                node.placeholder = idx+1;            
                nodes.push(node)
            }
            document.body.append(...nodes)
            element.disabled = true
        }  
    </script>
</body>
</html>